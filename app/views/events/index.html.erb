<div class="container">
  <div class="row justify-content-center">
    <h1>Events</h1>
    <% flash.each do |key, value| %>
      <%= content_tag :div, value, class: "alert alert-danger flash #{key}" %>
    <% end %>
  </div>

  <div class="big-top-buffer"></div>

  <div class="row justify-content-center">
    <%= form_tag("/search", method: "post") do %>
      <div class="form-group">
      <%= label_tag(:q, "Search for:") %>
      <%= text_field_tag(:q, '', class: 'form-control') %></div>
      <%= submit_tag("Search", class: 'btn btn-primary', style: 'margin-left: 55px') %>
    <% end %>
  </div>

  <div class="big-top-buffer"></div>

  <div class="row justify-content-center">
    <h4>Open Events:</h4>
  </div>

  <div class="row justify-content-center">
    <% if @entertainer %>
      <%= form_for @entertainer, url: {action: "update_events", controller: "entertainers"} do |f| %>
        <% @events.select {|e| e.closed_status == false}.each do |event| %>
          <%= f.check_box :events, {name: 'entertainer[event_ids][]', checked: (true if @entertainer.events.include?(event))}, "#{event.id}", false %> <!-- first argument is method you'd be calling on @entertainer, then a hash of optional arguments, then the value that will be passed back, then the value if unchecked -->
          <%= f.label :events, "#{link_to(event.name, event_path(event))}".html_safe %><br>
        <% end %>
        <%= f.submit 'Choose These Events', class: 'btn btn-primary' %>
      <% end %>
    <% end %>

    <% if @host %>
      <ul>
        <% @events.select {|e| e.closed_status == false}.each do |event| %>
          <li><%= link_to event.name, event_path(event) %></li>
        <% end %>
      <% end %>
    </ul>
  </div>

</div>
